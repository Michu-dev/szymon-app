<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>TIiSKwE</title>
    <link rel="stylesheet" type="text/css" href="Layout.css" />
    <link rel="stylesheet" type="text/css" href="Menu.css" />
    <style>
        canvas
        {
            border: 1px dashed black;
            background-color: white;
        }
        input
        {
            color: #F00;
            background-color: bisque;
        }
        input.Selected
        {
            color: #00F;
            background-color: antiquewhite;
        }
    </style>
    <script type="text/javascript">
        var can;
        var cont;

        window.onload = function ()
        {
            can = document.getElementById("plotno");
        }

        function wyczyscRysunek()
        {
            cont.clearRect(0, 0, can.width, can.height);
        }

        function rysujLinie()
        {
            if (cont == null)
            {
                cont = can.getContext("2d");
            }

            cont.beginPath();
            cont.lineWidth = 3;
            cont.strokeStyle = "red";
            cont.lineCap = "round" // można także: 'butt' lub 'square'
            cont.moveTo(10, 10);
            cont.lineTo(can.width - 10, can.height - 10);
            cont.stroke();

            cont.beginPath();
            cont.lineWidth = 2;
            cont.strokeStyle = "green";
            cont.moveTo(20, 10);
            cont.lineTo(500, 290);
            cont.stroke();
        }

        function rysujKrzywe()
        {
            if (cont == null)
            {
                cont = can.getContext("2d");
            }

            var center_X = 200;
            var center_Y = 200;
            var radius = 100;
            var startAngle = 1.25 * Math.PI;
            var endAngle = 1.75 * Math.PI;
            cont.beginPath();
            cont.strokeStyle = "#5599CC";
            cont.lineWidth = 5;
            cont.arc(center_X, center_Y, radius, startAngle, endAngle);
            cont.stroke();

            //Bezier curve
            var startPoint_X = 152;
            var startPoint_Y = 242;
            var controlPoint1_X = 187;
            var controlPoint1_Y = 32;
            var controlPoint2_X = 429;
            var controlPoint2_Y = 480;
            var endPoint_X = 365;
            var endPoint_Y = 133;
            cont.beginPath();
            cont.moveTo(startPoint_X, startPoint_Y);
            cont.bezierCurveTo(controlPoint1_X, controlPoint1_Y, controlPoint2_X, controlPoint2_Y, endPoint_X, endPoint_Y);
            cont.stroke();
        }

        function rysujFigury()
        {
            if (cont == null)
            {
                cont = can.getContext("2d");
            }

            //trójkąt
            var arm = 150;
            var base = 150;
            var h = Math.sqrt(Math.pow(arm, 2) - Math.pow(0.5 * base, 2));
            cont.beginPath();
            cont.moveTo(can.width / 2 - 0.5 * base, 3 * can.height / 4);
            cont.lineTo(can.width / 2, can.height / 2 - h);
            cont.lineTo(can.width / 2 + 0.5 * base, 3 * can.height / 4);
            cont.closePath();
            cont.lineWidth = 10;
            cont.lineJoin = "round";
            cont.strokeStyle = "#996633";
            cont.fillStyle = "yellow";
            cont.fill();
            cont.stroke();

            //prostokąt
            cont.beginPath();
            cont.lineWidth = 3;
            cont.strokeStyle = "rgb(200, 0, 0)";
            cont.strokeRect(50, 150, 250, 50);
            cont.fillStyle = "rgba(200, 0, 0, 0.3)";
            cont.fillRect(50, 150, 250, 50);

            //okrąg
            cont.beginPath();
            cont.globalAlpha = 0.5;
            cont.arc(350, 150, 75, 0, 2 * Math.PI, true);
            cont.strokeStyle = "blue";
            cont.stroke();
            cont.fillStyle = "green";
            cont.fill();
            cont.globalAlpha = 1;
        }

        function rysujTekst()
        {
            if (cont == null)
            {
                cont = can.getContext("2d");
            }

            cont.font = "20px Arial";
            cont.textAlign = "left";
            cont.fillStyle = "black";
            cont.fillText("Tekst wyrównany do lewej", can.width / 2, 50);

            cont.textAlign = "center";
            cont.lineWidth = 1;
            cont.strokeStyle = "blue";
            cont.strokeText("Kontur tekstu wyrównany do środka", can.width / 2, 250);
        }

        function PacMan()
        {
            if (cont == null)
            {
                cont = can.getContext("2d");
            }

            var radius = 100;
            cont.beginPath();
            cont.arc(can.width / 2, can.height / 2, radius, 0, -Math.PI / 6);
            cont.lineTo(can.width / 2, can.height / 2);
            cont.lineTo(can.width / 2 + radius, can.height / 2);
            cont.fillStyle = "yellow";
            cont.fill();
            cont.lineWidth = 3;
            cont.strokeStyle = "black";
            cont.stroke();
            cont.closePath();

            //przesunięcie początku układu XY
            cont.translate(can.width / 2, can.height / 2);
            //rozpoczęcie rysowania
            cont.beginPath();
            //obrót osi względem początku układu XY
            cont.rotate(-Math.PI / 6);
            //skalowanie osi potrzebne aby uzykać owal oczu z wykorzystniem zwykłego okręgu
            cont.scale(0.75, 1);
            //rysowanie owalnych oczu
            cont.arc(0.7 * radius, -0.3 * radius, 0.1 * radius, 0, 2 * Math.PI, true);
            cont.fillStyle = "black";
            cont.fill();
            cont.closePath();
            //powrót do noramalnej skali
            cont.scale(1 / 0.75, 1);
            //powrót do normalnego obrotu
            cont.rotate(Math.PI / 6);
            //resetowanie do startowego początku układu XY
            cont.translate(-can.width / 2, -can.height / 2);

            cont.beginPath();
            cont.font = "30px Arial";
            cont.textAlign = "center";
            cont.fillText("PACMAN !!!", can.width / 2, can.height / 2 + radius + 40);
        }
    </script>
</head>
<body>
    <header style="background-color:aqua">
        <h1>To jest nagłówek naszej stony WWW</h1>
    </header>
    <nav>
        <h2>Menu:</h2>
        <ul>
            <li><a href="Index.html" target="_self">Strona główna</a></li>
            <li><a href="Tabelka.html" target="_self">Tabela dyżurów</a></li>
            <li><a href="Info.html" target="_self">Informacje</a></li>
            <li><a href="Form.html" target="_self">Formularz</a></li>
            <li><a href="MAP_tag.html" target="_self">Znacznik MAP</a></li>
            <li><a href="JavaScript1.html" target="_self">JavaScript1</a></li>
            <li><a href="JavaScript2.html" target="_self">JavaScript2</a></li>
            <li><a href="JavaScript3.html" target="_self">JavaScript3</a></li>
            <li><a href="Canvas1.html" target="_self">Canvas1</a></li>
            <li><a href="Canvas2.html" target="_self">Canvas2</a></li>
            <li><a href="http://www.put.poznan.pl" target="_blank">Strona PP</a></li>
            <li><a href="http://www.creef.put.poznan.pl" target="_blank">WARiE</a></li>
            <li><a href="http://www.isie.put.poznan.pl" target="_blank">WIŚiE</a></li>
        </ul>
    </nav>
    <article>
        <h2>Przykłady rysowania różnych elementów w znaczniku CANVAS</h2>
        <form>
            <input type="button" name="RysujBtn" value="Rysuj Linie" onclick="rysujLinie();" />
            <input type="button" name="RysujBtn" value="Rysuj Krzywe" onclick="rysujKrzywe();" />
            <input type="button" name="RysujBtn" value="Rysuj Figury" onclick="rysujFigury();" />
            <input type="button" name="RysujBtn" value="Rysuj Tekst" onclick="rysujTekst();" />
            <input type="button" name="RysujBtn" value="PACMAN !!!" onclick="PacMan();" />
            <input type="button" name="RysujBtn" value="Wyczyść Obszar Rysowania"
                   onclick="wyczyscRysunek();" class="Selected" />
            <br /><br />
            <canvas id="plotno" width="500" height="300"></canvas>
        </form>
    </article>
    <aside>
        <iframe src="Kontrolki_JS.html">
        </iframe>
    </aside>
    <footer>
        To jest stopka naszej strony.
    </footer>
</body>
</html>